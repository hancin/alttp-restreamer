<link rel="import" href="../../../bower_components/iron-flex-layout/iron-flex-layout.html">
<link rel="import" href="../../../bower_components/iron-icons/iron-icons.html">
<link rel="import" href="../../../bower_components/paper-button/paper-button.html">
<link rel="import" href="../../../bower_components/paper-checkbox/paper-checkbox.html">
<link rel="import" href="../../../bower_components/paper-input/paper-input.html">
<link rel="import" href="alttp-run-section.html">

<dom-module id="gdq-run-editor">
	<template>
		<style>
			:host {
				@apply --layout-vertical;
				@apply --layout-center;
			}

			#title {
				font-size: 24px;
				font-weight: 500;
				margin-bottom: 16px;
			}

			.row{
				width:100%;
			}

			#run {
				@apply --layout-horizontal;
				@apply --layout-center-center;
				padding: 16px;
				margin-right: 4px;
				padding-left: 0;
			}
			#run paper-input {
				@apply --layout-flex-6;
			}
			#run paper-input:not(:first-child) {
				margin-left: 12px;
			}


			#buttons {
				margin-top: 16px;
			}

			#resetRun {
				--paper-button: {
					background-color: #C9513E;
					color: white;
				}
			}

			#applyChanges {
				--paper-button: {
					background-color: #5BA664;
					color: white;
				}
			}


		</style>

		<div id="title">[[title]]</div>

		<div id="run">
				<paper-input
					label="Name"
					value="{{name}}"
				 	hidden$="[[calcHide('name', showingOriginal)]]"
					always-float-label>
				</paper-input>
				<paper-input
					label="Name"
					value="[[originalValues.name]]"
				 	hidden$="[[!calcHide('name', showingOriginal)]]"
					always-float-label
					disabled>
				</paper-input>


				<paper-input
					label="ID"
					value="[[pk]]"
				 	hidden$=""
					always-float-label
					readonly>
				</paper-input>
		</div>

		<div class="row">
			<alttp-run-section max="4" original-values="[[originalValues.runners]]" 
				data="{{runners}}" name="Runner" showing-original="{{showingOriginal}}"></alttp-run-section>
			<alttp-run-section max="2" original-values="[[originalValues.commentators]]" 
				data="{{commentators}}" name="Commentator" showing-original="{{showingOriginal}}"></alttp-run-section>
			<alttp-run-section max="2" original-values="[[originalValues.trackers]]" 
				data="{{trackers}}" name="Tracker" showing-original="{{showingOriginal}}"></alttp-run-section>
			<alttp-run-section max="1" original-values="[[originalValues.broadcasters]]" 
				data="{{broadcasters}}" name="Broadcaster" showing-original="{{showingOriginal}}"></alttp-run-section>
		</div>

		<div id="buttons">
			<paper-button
				id="resetRun"
				on-tap="resetRun"
				on-mouseover="showOriginal"
				on-mouseout="hideOriginal"
				raised>
				RESET DATA TO ORIGINAL
			</paper-button>
			<paper-button
				id="applyChanges"
				on-tap="applyChanges"
				raised>
				APPLY CHANGES
			</paper-button>
		</div>
	</template>

	<script src="gdq-run-editor.js"></script>
</dom-module>
