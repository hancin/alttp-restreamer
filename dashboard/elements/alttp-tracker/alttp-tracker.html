<link rel="import" href="../../../bower_components/iron-flex-layout/iron-flex-layout.html">
<link rel="import" href="../../../bower_components/iron-icons/iron-icons.html">
<link rel="import" href="../../../bower_components/nodecg-toast/nodecg-toast.html">
<link rel="import" href="../../../bower_components/paper-item/paper-item.html">
<link rel="import" href="../../../bower_components/paper-button/paper-button.html">
<link rel="import" href="../../../bower_components/paper-dialog/paper-dialog.html">
<link rel="import" href="../../../bower_components/vaadin-combo-box/vaadin-combo-box.html">
<link rel="import" href="../gdq-run-editor/gdq-run-editor.html">

<dom-module id="alttp-tracker">
	<template>
		<style>
			:host {
				padding: 22px 24px;
				@apply --layout-vertical;
			}

			#selection-ctrls {
				@apply --layout-horizontal;
				@apply --layout-start;
				margin-bottom: 16px;
			}

			#selection-ctrls > paper-button {
				@apply --layout-flex;
			}

			#typeahead-container {
				@apply --layout-vertical;
				@apply --layout-end;
			}

			#typeahead {
				width: 240px;
				margin-top: -26px;
			}

			#take {
				font-size: 14px;
				height: 24px;
				padding-right: 0;
				--paper-button: {
					background-color: #5BA664;
					color: white;
				};
			}

			#runs {
				@apply --layout-horizontal;
			}

			#runs-spacer {
				width: 24px;
			}

			#edit-ctrls {
				@apply --layout-horizontal;
				margin-top: 32px;
			}

			#extraInfo .row{
				@apply --layout-horizontal;
				margin-top: 12px;
			}
			#extraInfo .row paper-input{
				@apply --layout-flex-3;
			}
			#extraInfo .row a{
				display:block;
				margin-top:2em;
				margin-left: 10px;
			}

			#previous,
			#next {
				--paper-button: {
					background-color: #645BA6;
					color: white;
				};
			}

			#previous,
			#editCurrent {
				margin-left: 0;
			}

			#next,
			#editNext {
				margin-right: 0;
			}

			#generateTrackers,
			#saveChanges,
			#editNext {
				--paper-button: {
					background-color: #A50074;
					color: white;
				};
				@apply --layout-flex-3;
			}

			#fetchLatestSchedule {
				@apply --layout-flex-6;
			}

			paper-button {
				@apply --layout-horizontal;
				@apply --layout-center-center;
			}

		</style>

		<div id="extraInfo">
			

				<div class="row">
					<paper-input
						label="SR.TV page"
						value="{{srtvPage}}"
						always-float-label>
					</paper-input>
					
					<a href="[[srtvPage]]" target="_blank">View</a>
					
				</div>

				<template is="dom-repeat" items="[[itemTrackers]]" as="itemTracker">
					<div class="row">
						<paper-input 
						label$="[[itemTracker.runnerName]]'s Tracker"
						value="{{itemTracker.url}}"
						on-input="_updateGenerateButton"
						always-float-label>
						</paper-input>

						<a href="[[baseUrl]]/[[itemTracker.url]]" target="_blank">View</a>
					</div>
				</template>

				<div class="row">
					<paper-input
						label="Password"
						value="{{password}}"
						always-float-label>
					</paper-input>&nbsp;&nbsp;&nbsp;&nbsp;
					<paper-input
						label="Round"
						value="{{round}}"
						always-float-label>
					</paper-input>&nbsp;&nbsp;&nbsp;&nbsp;
					<paper-input
						label="Standings"
						value="{{standings}}"
						always-float-label>
					</paper-input>
					
				</div>
	
				<div>
					<h4>Links</h4>
					<a href="https://twitch.tv/[[twitchChannel]]" target="_blank">[[twitchChannel]] Twitch</a><br />
					<a href="https://mixer.com/[[mixerChannel]]" target="_blank">[[mixerChannel]] Mixer</a>
				</div>
		</div>

		<div id="edit-ctrls">
			<paper-button id="generateTrackers" raised on-tap="generateItemTrackers">Generate trackers</paper-button>
			<paper-button id="saveChanges" raised on-tap="saveChanges">Save Changes</paper-button>
			<!--<paper-button id="editCurrent2" raised on-tap="editCurrent">Update OBS</paper-button>-->
		</div>

	</template>

	<script src="alttp-tracker.js"></script>
</dom-module>
